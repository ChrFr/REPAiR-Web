{% load i18n %}

<!-- Backbone templates (Underscore template engine) for rendering dynamic views in admin area -->


<!-- Actors -->

<script type="text/template" id="actors-edit-template">
  <div class="row">
    <h3>{% trans "Actors" %} - <%= casestudy %></h3>
    <select name="included-filter" id="included-filter-select">
      <option value="0">{% trans "show all" %}</option>
      <option value="1">{% trans "show included only" %}</option>
    </select>
  </div>
  <div class="row">
    <button id='upload-actors-button' class="btn btn-danger">
      <span class="glyphicon glyphicon-upload"></span> {% trans "Upload Changes" %}
    </button>
  </div>
  <div class="row">
    <div class='col-md-9' style="resize: horizontal; overflow: auto; border: 1px solid #e6e6e6;">
      <div class="row" style="overflow-x:auto;">
        <table id='actors-table' class='tablesorter'>
          <thead>
            <tr>
              <th>{% trans "Included" %}</th>
              <th>{% trans "Name" %}</th>
              <th>{% trans "Activity" %}</th>
              <th>{% trans "Website" %}</th>
              <th>{% trans "Year" %}</th>
              <th>{% trans "Turnover" %}</th>
              <th>{% trans "Employees" %}</th>
              <th>{% trans "BvDid" %}</th>
              <th>{% trans "BvDii" %}</th>
              <th>{% trans "ConsCode" %}</th>
            </tr>
          </thead> 
          <tbody> 
          </tbody> 
        </table>
      </div>
      <div class="row">
        <button id='add-actor-button'><span class="glyphicon glyphicon-plus"></span></button>
        <!-- pager -->
        <div id="pager" class="pager">
          <form>
            <img src="{{STATIC_URL}}img/first.png" class="first"/>
            <img src="{{STATIC_URL}}img/prev.png" class="prev"/>
            <!-- the "pagedisplay" can be any element, including an input -->
            <input type="text" class="pagedisplay"/>
            <img src="{{STATIC_URL}}img/next.png" class="next"/>
            <img src="{{STATIC_URL}}img/last.png" id="goto-last-page" class="last"/>
            <select id="pagesize" class="pagesize">
              <option value="20">20</option>
              <option value="40">40</option>
              <option value="60">60</option>
              <option value="100">100</option>
              <option value="1000">1000</option>
            </select>
          </form>
        </div>
      </div>
    </div>
    <div class='col-md-3' style="border: 1px solid #e6e6e6;">
      
      <h4 id="actor-name" class="row">{% trans "Please choose an actor by clicking a row." %}</h4>
      <div id="actors-map" style="min-height: 400px" class="map row"></div>
      <table id="adminloc-table" class="row">
        </br>
        <h4>Administrative Location</h4>
        <thead>
            <tr>
              <th></th>
              <th>{% trans "Location" %}</th>
              <th>{% trans "Note" %}</th>
            </tr>
          </thead> 
          <tbody> 
          </tbody> 
      </table>
      <table id="oploc-table" class="row">
        <h4>Operational Locations</h4>
        <thead>
            <tr>
              <th></th>
              <th>{% trans "Location" %}</th>
              <th>{% trans "Note" %}</th>
            </tr>
          </thead> 
          <tbody> 
          </tbody> 
      </table>
    </div>
  </div>
  <a href="#content" id="to-top-anchor">to top &#x2BC5</a>
</script>

<!-- Flows  -->

<script type="text/template" id="flows-edit-template">
  <div class="row">
    <h3>{% trans "Flows" %} - <%= casestudy %></h3>
    <select name="flows" id="flows-select">
      <% keyflows.each(function(keyflow){ %>
        <option value="<%= keyflow.id %>"><%= keyflow.get('name') %></option>
      <% }); %>
    </select>
  </div>
  </br>
  <div class="row">  
    <div class="col-md-12">
      <ul class="nav nav-tabs">
        <li class="active"><a data-toggle="tab" href="#data-entry-tab" id='data-link' style="padding-right: 39px">{% trans "Data Entry" %}
          <button title="Refresh Actors" type="button" id="refresh-dataentry-btn" class="btn btn-primary" style="margin-left: 20px;">
            <span class="glyphicon glyphicon-refresh"></span>
          </button></a></li>
        <li><a data-toggle="tab" href="#sankey-tab" style="padding-right: 39px">{% trans "Data View" %}
          <button title="Refresh Sankey-Diagram" type="button" id="refresh-dataview-btn" class="btn btn-primary" style="margin-left: 20px;">
            <span class="glyphicon glyphicon-refresh"></span>
          </button></a></li>
        <li><a data-toggle="tab" href="#verification">{% trans "Verification" %}</a></li>
      </ul>
      <div class="tab-content">
        <div class="tab-pane fade in active" id="data-entry-tab">
          <div class="row"><div id="data-entry"></div></div>
        </div>
        <div class="tab-pane fade in" id="sankey-tab">
          <div class="row"><div id="data-view"></div></div>
        </div>
        <div class="tab-pane fade in" id="verification">
          {% include "admin/verification.html" %}
        </div>
      </div>
    </div>
  </div>
  <a href="#content" id="to-top-anchor">to top &#x2BC5</a>
</script>

<!-- Data View -->

<script type="text/template" id="data-view-template">
  <div class="row">
    <div id="sankey-wrapper">
      <button id="fullscreen-toggle" class="glyphicon glyphicon-fullscreen btn btn-primary"></button>
      <div id="sankey">
      </div>
    </div>
  </div>
</script>

<!-- Data Entry -->

<script type="text/template" id="data-entry-template">
  <div class="col-md-3" style="padding-bottom: 15px;">
    <div id="data-tree"></div>
  </div>
  <div class="col-md-9">
    <div id="edit-node" style="margin-top: -15px;"></div>
  </div>
</script>


<!-- template for view on editing a node -->
<script type="text/template" id="edit-node-template">
  <div class="col-md-12">
    <div class="row" id='attributes'>
    </div>
    <button id='upload-flows-button' class="btn btn-danger">
      <span class="glyphicon glyphicon-upload"></span> {% trans "Upload Changes" %}
    </button>
    <div class="row" style="overflow-x:auto;">
      <h3>{% trans "Input" %}</h3>
      <table id='input-table' class='table'>
        <tr>
          <th>{% trans "Remove" %}</th>
          <th>{% trans "Amount" %}</th>
          <th>{% trans "Origin" %}</th>
          <th>{% trans "Product" %}</th>
          <th>{% trans "Raw" %}</th>
          <th>{% trans "Description" %}</th>
          <th>{% trans "Data Source" %}</th>
        </tr>
      </table>
      <button id='add-input-button'><span class="glyphicon glyphicon-plus"></span></button>
    </div>
    <div class="row" style="overflow-x:auto;">
      <h3>{% trans "Output" %}</h3>
      <table id='output-table' class='table'>
        <tr>
          <th>{% trans "Remove" %}</th>
          <th>{% trans "Amount" %}</th>
          <th>{% trans "Destination" %}</th>
          <th>{% trans "Product" %}</th>
          <th>{% trans "Raw" %}</th>
          <th>{% trans "Description" %}</th>
          <th>{% trans "Data Source" %}</th>
        </tr>
        <tr>
      </table>
      <button id='add-output-button'><span class="glyphicon glyphicon-plus"></span></button>
    </div>
    <div class="row" style="overflow-x:auto;">
        <h3>{% trans "Stock" %}</h3>
      <table id='stock-table' class='table'>
        <tr>
          <th>{% trans "Remove" %}</th>
          <th>{% trans "Amount" %}</th>
          <th>{% trans "Product" %}</th>
          <th>{% trans "Raw" %}</th>
          <th>{% trans "Description" %}</th>
          <th>{% trans "Data Source" %}</th>
        </tr>
      </table>
      <button id='add-stock-button'><span class="glyphicon glyphicon-plus"></span></button>
    </div>
  </div>
</script>

<script type="text/template" id="popover-product-template">
  <!--<b><%= productName %></b>-->
  <% _.each(fractions, function(fraction){ %>
    <div class='row'> <%= fraction.fraction * 100 %>% <%= materials.get(fraction.material).get('name') %></div>
  <% }); %>
</script>

<!-- template for view on attributes of an activitygroup-node -->
<script type="text/template" id="group-attributes-template">
  <h3>{% trans "Activitygroup" %}</h3>
  <table>
    <tr>
      <td>{% trans "Name" %}</td>
      <td><%= name %></td>
    </tr>
    <tr>
      <td>{% trans "Flow" %}</td>
      <td><%= keyflow %></td>
    </tr>
    <tr>
      <td>{% trans "Code" %}</td>
      <td><%= code %></td>
    </tr>
  </table>
</script>

<!-- template for view on attributes of an activity-node -->
<script type="text/template" id="activity-attributes-template">
  <h3>{% trans "Activity" %}</h3>
  <table>
    <tr>
      <td>{% trans "Name" %}</td>
      <td><%= name %></td>
    </tr>
    <tr>
      <td>{% trans "Keyflow" %}</td>
      <td><%= keyflow %></td>
    </tr>
    <tr>
      <td>{% trans "Activity Group" %}</td>
      <td><%= group %></td>
    </tr>
    <tr>
      <td>{% trans "NACE Code" %}</td>
      <td><%= nace %></td>
    </tr>
  </table>
</script>

<!-- template for view on attributes of an actor-node -->
<script type="text/template" id="actor-attributes-template">
  <h3>{% trans "Actor" %}</h3>
  <table>
    <tr>
      <td>{% trans "Name" %}</td>
      <td><%= name %></td>
    </tr>
    <tr>
      <td>{% trans "Keyflow" %}</td>
      <td><%= keyflow %></td>
    </tr>
    <tr>
      <td>{% trans "Activity" %}</td>
      <td><%= activity %></td>
    </tr>
    <tr>
      <td>{% trans "BvDid" %}</td>
      <td><%= bvdid %></td>
    </tr>
    <tr>
      <td>{% trans "Year" %}</td>
      <td><%= year %></td>
    </tr>
    <tr>
      <td>{% trans "Employees" %}</td>
      <td><%= employees %></td>
    </tr>
    <tr>
      <td>{% trans "Turnover" %}</td>
      <td><%= turnover %></td>
    </tr>
    <tr>
      <td>{% trans "Website" %}</td>
      <td><%= url %></td>
    </tr>
  </table>
</script>