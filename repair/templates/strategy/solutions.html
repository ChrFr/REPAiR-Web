{% load i18n %}
{% block content %}

<!--setup solutions-->
<script type="text/template" id="solutions-setup-template">
<div class="row bordered">
  <h4 style="margin-right: 10px; float: left;">{% trans "Solution" %}</h4>
  <select id="solution-select" class="selectpicker" style="max-width: 500px; margin-right: 10px; float: left;">
  </select>
  <button id="edit-solution" class="btn btn-primary"> {% trans "Edit" %} </button>
  <button id="add-solution" class="btn btn-primary"> {% trans "New" %} </button>
  <button id="delete-solution" class="btn btn-warning"> {% trans "Delete" %} </button>
</div>
<div id="solution-edit-content" class="row bordered sunken" style="display: none;">
  <div class="row">
    <button id='save-solution' title="{% trans "upload changes made to filter" %}" class="btn btn-danger btn-upload">
      <span class="glyphicon glyphicon-upload"></span> {% trans "Save Changes" %}
    </button>
  </div>
  <div class="row">
    <div class="col-md-6">
      <div class="row">
        <label>{% trans "Name" %} </label>
        <input class="form-control" name="name">
      </div>
      <div class="row">
        <label>{% trans "Category" %} </label>
        <select id="solution-category" class="form-control"></select>
      </div>
      <button id="edit-solution-categories" class="btn btn-primary" title="{% trans "edit categories" %}">
        {% trans "Add/Edit Categories" %}
      </button>
      <div class="row" style="margin-top: 15px;">
        <label>{% trans "Description" %} </label>
        <div name="description"></div>
      </div>
    </div>
    <div class="col-md-6">
      <label>{% trans "Diagrams" %} </label>
      <div class="row bordered">
        <div class="row">
          <h4>{% trans "Current process" %}</h4>
          <input type="file" name="state-file" accept=".gif,.jpg,.jpeg,.png">
        </div>
        <div style="position: relative; ">
          <div class="row" style="background: white; overflow: auto; min-height: 200px;">
            <img id="state-image" src='' style="max-height: 300px;" alt="{% trans "Current process" %}">
          </div>
        </div>
        <div class="row">
          <h4>{% trans "Proposed process" %}</h4>
          <input type="file" name="effect-file" accept=".gif,.jpg,.jpeg,.png">
        </div>
        <div style="position: relative; ">
          <div class="row" style="background: white; overflow: auto; min-height: 200px;">
            <img id="effect-image" src='' style="max-height: 300px;" alt="{% trans "Proposed process" %}">
          </div>
        </div>
        <div class="row">
          <h4>{% trans "Activities involved" %}</h4>
          <input type="file" name="activities-file" accept=".gif,.jpg,.jpeg,.png">
        </div>
        <div style="position: relative; ">
          <div class="row" style="background: white; overflow: auto; min-height: 200px;">
            <img id="activities-image" src='' style="max-height: 300px;" alt="{% trans "Activities involved" %}">
          </div>
        </div>
      </div>
    </div>
  <div>
  <div id="categories-modal" class="modal fade" role="dialog" style="z-index: 10000;"></div>
</div>
</script>

<!-- modal for editing categories -->
<script type="text/template" id="categories-template">
<div class="modal-dialog modal-lg">
  <div class="modal-content">
    <div class="modal-header">
      <button type="button" class="close" data-dismiss="modal">&times;</button>
      <h4 class="modal-title">{% trans "Solution categories"%} in <i> <%= keyflowName %> </i></h4>
    </div>
    <div class="modal-body sunken">
      <div class="row category-list">
      </div>
      <button class="btn btn-primary add square" title="add category">
        <span class="glyphicon glyphicon-plus"></span> {% trans "Add Category" %}
      </button>
    </div>
    <div class="modal-footer">
      <button class="btn btn-primary confirm" data-dismiss="modal" aria-hidden="true">{% trans "OK"%}</button>
    </div>
  </div>
</div>
</script>

<script type="text/template" id="solutions-logic-template">
<div class="row bordered">
  <h4 style="margin-right: 10px; float: left;">{% trans "Solution" %}</h4>
  <select name="filter" class="form-control" style="max-width: 500px; margin-right: 10px; float: left;">
  </select>
</div>
<div class="row">
  <ul class="nav nav-tabs">
    <li class="active"><a data-toggle="tab" href="#parts-tab">{% trans "Solution parts" %}</a></li>
    <li><a data-toggle="tab" href="#area-tab">{% trans "Possible implementation area" %}</a></li>
    <li><a data-toggle="tab" href="#questions-tab">{% trans "Implementation questions" %}</a></li>
  </ul>
  <div class="tab-content bordered">
    <div class="tab-pane fade in" id="area-tab">
    </div>
    <div class="tab-pane fade in" id="questions-tab">
    </div>
    <div class="tab-pane fade in active" id="parts-tab">
      <div class="row">
        <div class="col-md-6">
          <div>
            <div class="item-panel bordered">
              <label style="margin-bottom: 20px">Parts in computing order</label>
              <div class="panel-item noselect">
                <label> remove flow </label>
              </div>
              <div class="panel-item noselect">
                <label> redirect flow </label>
              </div>
              <div class="panel-item noselect">
                <label> something else </label>
              </div>
              <button id="add-solution-part" class="btn btn-primary add square" title="add part">
                <span class="glyphicon glyphicon-plus"></span> {% trans "Add part" %}
              </button>
            </div>
          </div>
        </div>
        <div class="col-md-6">
          <div>
            <label>{% trans "Notes (internal)" %} </label>
            <div name="notes"></div>
          </div>
        </div>
      </div>
    </div>
  <div>
  <div id="solution-part-modal" class="modal fade" role="dialog" style="z-index: 10000;"></div>
</div>
</script>

<!-- modal for editing/viewing a solution part-->
<script type="text/template" id="solution-part-template">
<div class="modal-dialog modal-lg" style="width: 80%; -webkit-transform: none; transform: none;">
  <!-- Modal content-->
  <div class="modal-content col-md-12">
    <div class="modal-header">
      <button type="button" class="close" data-dismiss="modal">&times;</button>
      <h4 class="modal-title"></h4>
    </div>
    <div class="modal-body">
      <div class="row">
        <label>{% trans "Name" %} </label>
        <input class="form-control" name="name" value="remove flow">
      </div>
      <div class="row">
        <input type="checkbox"> implements new flow
      </div>
      <ul class="nav nav-tabs" style="margin-top: 20px;">
        <li class="active"><a data-toggle="tab" href="#solution-flow-tab">{% trans "Solution Flow" %}</a></li>
        <li><a data-toggle="tab" href="#affected-flows-tab">{% trans "Affected Flows" %}</a></li>
        <li><a data-toggle="tab" href="#formula-tab">{% trans "Formula" %}</a></li>
        <li><a data-toggle="tab" href="#target-tab">{% trans "New Flow" %}</a></li>
      </ul>
      <div class="tab-content bordered">
        <div class="tab-pane fade in active" id="solution-flow-tab">
          <div class="row">
            <label>{% trans "Material" %} </label>
            <select class="form-control"></select>
          </div>
          <div class="row">
            {% trans "Select Activity flow" %}
            {% trans "from" %}
            <select style="width: 100px"></select>
            {% trans "to" %}
            <select style="width: 100px"></select>
          </div>
          <div class="row">
            <label>{% trans "Who needs to be in the implementation area?" %} </label>
            <select class="form-control">
              <option> Origin </option>
              <option> Destination </option>
              <option> both </option>
            </select>
          </div>
        </div>
        <div class="tab-pane fade in" id="affected-flows-tab">
          <div class="row bordered">
            {% trans "Material" %}
            <select style="width: 100px"></select>
            {% trans "from" %}
            <select style="width: 100px"></select>
            {% trans "to" %}
            <select style="width: 100px"></select>
          </div>
          <div class="row bordered">
            {% trans "Material" %}
            <select style="width: 100px"></select>
            {% trans "from" %}
            <select style="width: 100px"></select>
            {% trans "to" %}
            <select style="width: 100px"></select>
          </div>
          <button class="btn btn-primary add square">
            <span class="glyphicon glyphicon-plus"></span> {% trans "Add affected flow" %}
          </button>
        </div>
        <div class="tab-pane fade in" id="formula-tab">
          <div class="row">
            <input type="checkbox"> absolute change
          </div>
          <div class="row">
            <label>a</label>
            <input class="form-control">
          </div>
          <div class="row">
            <label>b</label>
            <input class="form-control">
          </div>
          <div class="row">
            <label>Question</label>
            <select class="form-control"></select>
            <button class="btn btn-primary add square">
              <span class="glyphicon glyphicon-plus"></span> {% trans "Add question" %}
            </button>
          </div>
        </div>
        <div class="tab-pane fade in" id="target-tab">
        </div>
      </div>
    </div>
    <div class="modal-footer">
      <button class="btn btn-primary confirm" data-dismiss="modal" aria-hidden="true">{% trans "OK"%}</button>
    </div>
  </div>
</div>
</script>

<script type="text/template" id="solutions-workshop-template">
<h3> {% trans "Solutions for the keyflow" %} <i><%= keyflowName %></i> </h3>
<div id="categories" class="row overflow">
</div>
<div id="solution-modal" class="modal fade" role="dialog" style="z-index: 10000;"></div>
</script>

<!-- modal for editing/viewing a solution and its charts -->
<script type="text/template" id="view-solution-template">
<div class="modal-dialog modal-lg" style="width: 80%; -webkit-transform: none; transform: none;">
  <!-- Modal content-->
  <div class="modal-content col-md-12">
    <div class="modal-header">
      <button type="button" class="close" data-dismiss="modal">&times;</button>
      <h4 class="modal-title"><%= category %> - <%= name %></h4>
    </div>
    <div class="modal-body">
      <div class="row">
        <ul class="nav nav-tabs">
          <li class="active"><a data-toggle="tab" href="#description-tab">{% trans "Description" %}</a></li>
          <li><a data-toggle="tab" href="#ce-diagrams-tab">{% trans "CE-Diagrams" %}</a></li>
          <li><a data-toggle="tab" href="#activities-tab">{% trans "Activities" %}</a></li>
          <li><a data-toggle="tab" href="#actors-tab">{% trans "Actors" %}</a></li>
        </ul>
        <div class="tab-content">
          <div class="tab-pane fade in active" id="description-tab">
            <div class="col-md-12 bordered">
              <div class="row" style="width: 900px; max-width: 100%;">
                <div name="description"><%= description %></div>
              </div>
            </div>
          </div>
          <div class="tab-pane fade in" id="ce-diagrams-tab">
            <div class="col-md-12 bordered">
              <div class="col-md-6">
                <div class="row">
                  <h4>{% trans "Current process" %}</h4>
                </div>
                <div style="position: relative;">
                  <div class="row bordered" style="background: white; overflow: auto; min-height: 200px;">
                    <img id="state-image" src='<%= stateSrc %>' style="width: 100%" alt="{% trans "Current process" %}">
                  </div>
                </div>
              </div>
              <div class="col-md-6">
                <div class="row">
                  <h4>{% trans "Proposed process" %}</h4>
                </div>
                <div style="position: relative; ">
                  <div class="row bordered" style="background: white; overflow: auto; min-height: 200px;">
                    <img id="effect-image" src='<%= effectSrc %>' style="width: 100%" alt="{% trans "Proposed process" %}">
                  </div>
                </div>
              </div>
            </div>
          </div>
          <div class="tab-pane fade in" id="activities-tab">
            <div class="col-md-12 bordered">
              <h4>{% trans "Activities involved" %}</h4>
              <div class="col-md-8">
                <div style="position: relative; ">
                  <div class="row bordered" style="background: white; overflow: auto; min-height: 200px;">
                    <img id="activities-image" src='<%= activitiesSrc %>' style="width: 100%" alt="{% trans "Activities involved" %}">
                  </div>
                </div>
              </div>
            </div>
          </div>
          <div class="tab-pane fade in" id="actors-tab">
            <div class="col-md-12 bordered">
              <div class="olmap" id='actors-map'>
                <div id='legend' class="bordered workshop">
                  <div class="row" data-toggle="collapse" data-target="#legend>.items">
                    <button class="btn btn-primary square inverted">
                      <span class="glyphicon glyphicon-eye-open"></span>
                    </button>
                    <h4> {% trans "Legend" %} </h4>
                  </div>
                  <div class="items collapse" style="padding: 5px; list-style: none;">
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
    <div class="modal-footer">
      <button class="btn btn-primary confirm" data-dismiss="modal" aria-hidden="true">{% trans "OK"%}</button>
    </div>
  </div>
</div>
</script>

{% endblock %}
