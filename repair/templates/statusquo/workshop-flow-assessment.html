{% load i18n %}

<!--for some reason i can't load this with require and css loader-->
<link rel="stylesheet" type="text/css" href="{{STATIC_URL}}css/bootstrap-tagsinput.css" />

<script type="text/template" id="workshop-flow-assessment-template">
<div class="col-md-12" style="margin-top: 20px;">
  <ul class="nav nav-tabs">
    <li class="active"><a data-toggle="tab" href="#indicator-map-tab">{% trans "Map" %}</a></li>
    <li ><a data-toggle="tab" href="#bar-charts-tab">{% trans "Bar charts" %}</a></li>
  </ul>
  <div class="tab-content">
    <div class="tab-pane fade in active" id="indicator-map-tab">
      <div class="row bordered">
        <div class="row">
          <div class="col-md-4">
            <label>{% trans "Indicator" %}</label>
            <select name="indicator" class="form-control" style="max-width: 500px; margin-right: 10px; float: left;">
              <option disabled selected value="-1"> {% trans "Select" %} </option>
              <% indicators.forEach(function(indicator) { %>
                <option value="<%= indicator.id %>"> <%= indicator.get('name') %></option>
              <% });  %>
            </select>
          </div>
          <div class="col-md-4">
            <label>{% trans "Spatial level" %}</label>
            <select name="spatial-level-select" class="form-control" style="max-width: 350px;">
              <option disabled selected value="-1"> {% trans "Select" %} </option>
              <% levels.forEach(function(level) { %>
                  <option value="<%= level.id %>"> <%= level.get('name') %></option>
              <% }) %>
            </select>
          </div>
        </div>
        <div class="col-md-8" style="margin-top: 10px;">
          <div id='indicator-map' style='min-height: 400px; width: 100%; height: 100%;'></div>
        </div>
        <div class="col-md-4">
          <h4>{% trans "Legend" %}</h4>
          <div class='legend'></div>
        </div>
      </div>
    </div>
    <div class="tab-pane fade in" id="bar-charts-tab">
      <div class="row overflow bordered">
        <div class="grid" id='indicator-area-row' style="float: left; height: 150px;">
        </div>
        <button class="btn btn-primary round" id='add-area-select-item-btn' style="font-size: 25px; border-radius: 45px; position: relative; height: 45px; min-width: 45px; margin: 10px; margin-top: 50px;">
          <span class="glyphicon glyphicon-plus" style="top: 50%; transform: translate(-50%, -50%); position:absolute;"></span>
        </button>
      </div>
      <% indicators.forEach(function(indicator) { %>
      <div class="row bordered overflow" data-indicator=<%= indicator.id %>>
        <h4> <%= indicator.get('name') %> </h4>
        <div class="row"> </div>
      </div>
      <% })  %>
    </div>
  </div>
</div>
<div class="area-select modal fade" role="dialog">
</div>
</script>

<script type="text/template" id="row-box-template">
<div class="item-content bordered">
  <button class="btn btn-danger remove-item" style="position: absolute; top: -1px; right: -1px;" data-id="<%= id %>">
    <b style="pointer-events: none;">X</b>
  </button>
  <b style="font-size: <%= fontSize %>"><%= title %></b><br>
  <button class="btn btn-warning select-area" data-id="<%= id %>"><b style="pointer-events: none;">{% trans "Select Areas" %}</b></button>
</div>
</script>