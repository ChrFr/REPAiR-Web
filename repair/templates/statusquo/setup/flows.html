{% load i18n %}
{% block content %}

<div id="flows-setup"></div>

<script type="text/template" id="flows-template">
<div class="row">
  <div class="col-md-3">
    <b>{% trans "Keyflow" %}</b>
    <select name="keyflow" class="form-control">
      <option disabled selected> {% trans "Select" %} </option>
      <% keyflows.each(function(keyflow) { %>
        <option value="<%= keyflow.id %>"> <%= keyflow.get('name') %></option>
      <% });  %>
    </select>
  </div>
</div>
<div id='flows-setup-content' style="display: none;">
  <div class="row">
    <div class="col-md-3">
      <b>{% trans "Filter" %}</b>
      <select name="filtertype" class="form-control">
        <option value='material' selected> {% trans "Material" %} </option>
        <option> {% trans "Area" %} </option>
        <option> {% trans "Actor" %} </option>
      </select>
    </div>
    <div class="col-md-3">
      <br>
      <div id='sub-filter'></div>
    </div>
  </div>
  <div class="row" style="margin-top: 20px;">
    <ul class="nav nav-tabs">
      <li class="active"><a data-toggle="tab" href="#flow-diagram">{% trans "Flow Diagram" %}
      <li><a data-toggle="tab" href="#flow-map-panel">{% trans "Flow Map" %}</a></li>
    </ul>
    <div class="tab-content" style="margin-top: 10px;">
      <div class="tab-pane fade in active" id="flow-diagram" style="padding-">
        {% trans "Level" %}
        <select name="data-view-type-select" id="data-view-type-select" style="margin-left: 5px; margin-right: 5px;">
          <option value="activitygroup">{% trans "Activity Group" %}</option>
          <option value="activity">{% trans "Activity" %}</option>
          <option value="actor">{% trans "Actor" %}</option>
        </select>
        <div class="row">
          <div id="sankey-wrapper">
            <button id="fullscreen-toggle" title="{% trans "toggle fullscreen" %}" class="glyphicon glyphicon-fullscreen btn btn-primary"></button>
            <div id="sankey" class="bordered"></div>
          </div>
        </div>
      </div>
      <div class="tab-pane fade in" id="flow-map-panel">
        <div id="sankey-map" class="col-md-12 sankeymap bordered" style="min-height: 500px; width:100%"></div>
      </div>
    </div>
  </div>
</div>
</script>

{% endblock %}