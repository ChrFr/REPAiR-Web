# Generated by Django 2.0 on 2018-08-17 13:38

from django.db import migrations, models


def update_parent_area(apps, schema_editor):
    """update the _parent_area-field
    using the parent_area-fields of the subclasses"""

    from repair.apps.studyarea.models import Area, Areas

    for SubArea in Areas.by_level.values():
        for row in SubArea.objects.all():
            row._parent_area = row.parent_area
            row.save(update_fields=['_parent_area'])


class Migration(migrations.Migration):

    dependencies = [
        ('studyarea', '0023_area__parent_area'),
    ]

    operations = [
        # used to migrate the productive database
        #migrations.RunPython(update_parent_area)
    ]
